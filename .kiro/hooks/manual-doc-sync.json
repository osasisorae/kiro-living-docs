{
  "name": "manual-doc-sync",
  "description": "Manual trigger for documentation synchronization",
  "version": "1.0.0",
  "trigger": {
    "type": "manual",
    "command": "sync-docs",
    "aliases": [
      "update-docs",
      "refresh-documentation"
    ],
    "parameters": {
      "scope": {
        "type": "string",
        "options": ["all", "api", "readme", "logs"],
        "default": "all",
        "description": "Scope of documentation to update"
      },
      "force": {
        "type": "boolean",
        "default": false,
        "description": "Force update even if no changes detected"
      },
      "dryRun": {
        "type": "boolean",
        "default": false,
        "description": "Preview changes without writing files"
      }
    }
  },
  "action": {
    "type": "subagent-execution",
    "subagent": "doc-analysis-agent",
    "command": "analyze-and-sync",
    "parameters": {
      "analysisDepth": "${scope === 'all' ? 'deep' : 'shallow'}",
      "updateTargets": "${scope === 'all' ? ['api-specs', 'readme-sections', 'dev-logs'] : [scope]}",
      "preserveFormatting": true,
      "validateOutput": true,
      "force": "${force}",
      "dryRun": "${dryRun}"
    },
    "timeout": 120000,
    "retryAttempts": 1
  },
  "context": {
    "workingDirectory": "${PWD}",
    "user": "${USER}",
    "timestamp": "${TIMESTAMP}",
    "scope": "${scope}",
    "force": "${force}",
    "dryRun": "${dryRun}"
  },
  "logging": {
    "enabled": true,
    "logLevel": "info",
    "logFile": ".kiro/development-log/manual-sync.log",
    "includeContext": true,
    "includeOutput": true,
    "consoleOutput": true
  },
  "errorHandling": {
    "onFailure": "log-and-exit",
    "notificationChannels": [],
    "fallbackActions": []
  },
  "configuration": {
    "enabled": true,
    "priority": "high",
    "concurrent": false,
    "dependencies": [
      "doc-analysis-agent"
    ]
  },
  "help": {
    "usage": "kiro hook run manual-doc-sync [--scope=all|api|readme|logs] [--force] [--dry-run]",
    "examples": [
      {
        "command": "kiro hook run manual-doc-sync",
        "description": "Update all documentation"
      },
      {
        "command": "kiro hook run manual-doc-sync --scope=api",
        "description": "Update only API documentation"
      },
      {
        "command": "kiro hook run manual-doc-sync --dry-run",
        "description": "Preview changes without writing files"
      },
      {
        "command": "kiro hook run manual-doc-sync --force",
        "description": "Force update even if no changes detected"
      }
    ]
  }
}